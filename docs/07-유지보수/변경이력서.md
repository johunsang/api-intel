# 변경이력서 (Change Log)

| 항목 | 내용 |
|------|------|
| **프로젝트명** | API Intelligence Engine |
| **문서 버전** | v1.2 |
| **작성일** | 2026-02-27 |
| **작성자** | 조훈상 / 프로젝트 오너 |
| **승인자** | 조훈상 / 프로젝트 오너 |
| **문서 상태** | 운영 |

> **용어 규칙:** 본 문서는 [`용어규칙.md`](../01-요구사항분석/용어규칙.md)의 표기 원칙과 용어 사전을 준수한다.

---

## 목차

1. [문서 개요](#1-문서-개요)
2. [변경 이력](#2-변경-이력)
3. [배포 이력](#3-배포-이력)
4. [문서별 변경 추적](#4-문서별-변경-추적)
5. [변경 유형 분류](#5-변경-유형-분류)
6. [관련 문서](#6-관련-문서)

---

## 1. 문서 개요

### 1.1 목적

API Intelligence Engine 프로젝트의 모든 산출물(문서, 설계, 코드)에 대한 변경 사항을 체계적으로 기록·추적한다.
### 1.2 범위

- 프로젝트 문서(기획, 요구사항, 설계, 상세설계, 배포) 변경
- 시스템 아키텍처 및 기술 스택 변경
- ADR(Architecture Decision Record) 추가·변경
- MVP 스코프 조정

### 1.3 변경 관리 원칙

1. 모든 변경은 버전 번호와 날짜를 부여한다.
2. 변경 사유와 영향 범위를 명시한다.
3. 관련 문서 간 교차 참조를 유지한다.
4. RTM(요구사항추적매트릭스)과 동기화한다.

### 1.4 배포 규칙

#### 배포 전 필수 체크리스트

1. **보안 검토** — 배포 전 반드시 [보안검토서](../08-검토/보안검토서.md)를 참조하여 보안 항목을 점검한다.
2. **로컬 빌드 검증** — `pnpm build` 성공 확인 (TypeScript 오류 0건, 빌드 경고 0건).
3. **라우트 확인** — 빌드 결과에서 예상 라우트 수가 일치하는지 확인한다.
4. **환경 변수 점검** — 프로덕션에 필요한 환경 변수가 EC2 `.env.production`에 설정되어 있는지 확인한다.
5. **스테이징 검증 선행** — 프로덕션 배포 전 로컬 또는 스테이징 환경에서 동작을 확인한다.
6. **변경이력서 갱신** — 배포 실행 후 본 문서의 [3. 배포 이력](#3-배포-이력)에 DEPLOY 번호를 부여하여 상세 기록한다.

#### 배포 환경 구분

| 환경 | 방식 | 용도 | 승인 필요 |
|------|------|------|-----------|
| Local | `pnpm dev` | 개발·디버깅 | 불필요 |
| Production | EC2 SSH 접속 후 `pnpm build && pnpm start` | 실서비스 반영 | 프로젝트 오너 승인 |

#### 배포 명명 규칙

- 배포 번호: `DEPLOY-{순번 3자리}` (예: DEPLOY-001, DEPLOY-002)
- 순번은 환경 구분 없이 전체 배포에 대해 누적 채번한다.

#### 롤백 절차

1. EC2에 SSH 접속하여 `git log --oneline`으로 이전 정상 커밋을 확인한다.
2. `git checkout <이전 커밋 해시>`로 롤백 후 `pnpm build && pnpm start`로 재기동한다.
3. 변경이력서에 롤백 사유와 롤백 대상 DEPLOY 번호를 기록한다.

### 1.5 문서 업데이트 주의사항

#### 필수 준수 사항

1. **버전 번호 부여** — 문서 변경 시 반드시 버전을 올린다. 마이너 변경은 패치(`v1.0` → `v1.1`), 구조 변경은 메이저(`v1.x` → `v2.0`).
2. **변경이력서 동기화** — 어떤 문서든 수정하면 본 문서의 [2.1 프로젝트 변경 이력](#21-프로젝트-변경-이력)과 [4. 문서별 변경 추적](#4-문서별-변경-추적)을 함께 갱신한다.
3. **교차 참조 유지** — 문서 간 링크(`[문서명](경로)`)가 깨지지 않도록 경로 변경 시 모든 참조 문서를 함께 수정한다.
4. **용어 규칙 준수** — 모든 문서는 [`용어규칙.md`](../01-요구사항분석/용어규칙.md)의 표기 원칙과 용어 사전을 따른다.
5. **CLAUDE.md 동기화** — 문서가 추가·삭제·이동되면 프로젝트 루트의 `CLAUDE.md` 문서 목록도 함께 갱신한다.

#### 금지 사항

- 기준선(Baseline) 확정 후 해당 버전 문서의 소급 수정 금지 — 반드시 새 버전으로 기록한다.
- 변경이력서 갱신 없이 다른 문서를 수정하지 않는다.
- 문서 삭제 시 물리 삭제 전 변경이력서에 삭제 사유를 먼저 기록한다.
- 환경 변수, API 키, 시크릿 등 민감 정보를 문서에 평문으로 기재하지 않는다.

#### 문서 상태 정의

| 상태 | 설명 |
|------|------|
| 초안 | 작성 중, 리뷰 전 |
| 검토중 | 리뷰어 검토 진행 중 |
| 완료 | 리뷰 완료, 승인됨 |
| 운영 | 지속적으로 갱신되는 문서 (변경이력서 등) |
| 폐기 | 더 이상 유효하지 않은 문서 |

---

## 2. 변경 이력

### 2.1 프로젝트 변경 이력

| 버전 | 날짜 | 작성자 | 유형 | 변경 내용 | 영향 문서 |
|------|------|--------|------|-----------|-----------|
| v0.1 | 2026-02-25 | 조훈상 | 신규 | 프로젝트 초기 문서 체계 수립 — 기획서, SRS, RTM, 유스케이스명세서, 용어규칙 작성 | 00-기획, 01-요구사항분석 전체 |
| v0.2 | 2026-02-25 | 조훈상 | 신규 | 시스템 설계 문서 작성 — SAD, DB설계서, API설계서, 화면설계서 | 02-시스템설계 전체 |
| v0.3 | 2026-02-25 | 조훈상 | 신규 | 상세설계 문서 작성 — 모듈상세설계서(DD-001~DD-012), 비기능상세설계서 | 03-상세설계 전체 |
| v0.4 | 2026-02-25 | 조훈상 | 신규 | API수집시스템분석서, 크롤링정책분석서 작성 | 01-요구사항분석 |
| v0.5 | 2026-02-25 | 조훈상 | 신규 | 배포문서 작성 — Vercel 배포 파이프라인 정의 | 06-배포 |
| v1.0 | 2026-02-25 | 조훈상 | 기준선 | 전체 문서 기준선(Baseline) 확정 — 15개 문서 초판 완료 | 전체 |
| v1.1 | 2026-02-25 | 조훈상 | 배포 | Vercel 프로덕션 최초 배포 — Next.js 16.1.6 (Turbopack), 63개 소스 파일, 15개 라우트, 빌드 28초, Mock 데이터 기반 MVP | 06-배포, 07-유지보수 |
| v1.2 | 2026-02-27 | 조훈상 | 수정 | 배포 플랫폼 Vercel → AWS EC2 마이그레이션 — 배포문서 v2.0 전면 개정, CLAUDE.md 기술 스택 갱신, GA(G-73G8NEG0KK) 추가 | CLAUDE.md, 06-배포, 07-유지보수 |

### 2.2 기술 스택 변경 이력

| 날짜 | 영역 | 변경 전 | 변경 후 | 사유 | 관련 ADR |
|------|------|---------|---------|------|----------|
| 2026-02-25 | 프레임워크 | — | Next.js 16 (App Router) | 초기 선정 | — |
| 2026-02-25 | UI | — | React 19 + Tailwind CSS 4 | 초기 선정 | — |
| 2026-02-25 | 상태관리 | — | Zustand 5 | 초기 선정 | — |
| 2026-02-25 | DB | — | Supabase (PostgreSQL) | 초기 선정 | — |
| 2026-02-25 | 인증 | — | Supabase Auth | 초기 선정 | — |
| 2026-02-25 | 배포 | — | Vercel | 초기 선정 | — |
| 2026-02-27 | 배포 | Vercel | AWS EC2 (Ubuntu) | 인프라 자체 관리 필요, 비용 최적화 | — |
| 2026-02-25 | 모노레포 | — | Turborepo + pnpm | 초기 선정 | ADR-004 |

---

## 3. 배포 이력

### 3.1 프로덕션 배포 이력

| 배포 번호 | 날짜 | 배포자 | 환경 | 빌드 시간 | 상태 | 커밋 | 비고 |
|-----------|------|--------|------|-----------|------|------|------|
| DEPLOY-001 | 2026-02-25 | johunsang-8466 | Production | 28초 | Ready | `40f9b90` | Vercel 프로덕션 최초 배포 |

### 3.2 배포 상세 — DEPLOY-001 (최초 프로덕션 배포)

| 항목 | 내용 |
|------|------|
| **배포 플랫폼** | Vercel |
| **배포 방식** | Vercel CLI (`vercel --prod`) |
| **Production URL** | https://web-r3x52v0rr-123asdfsfs-projects.vercel.app |
| **Vercel 프로젝트** | `123asdfsfs-projects/web` |
| **배포 계정** | johunsang-8466 |
| **빌드 도구** | Turbopack (Next.js 16.1.6 내장) |
| **빌드 소요 시간** | 28초 |
| **배포 상태** | Ready (Production) |

#### 배포 포함 내역

| 구분 | 항목 | 수량 |
|------|------|------|
| 소스 파일 | 총 소스 파일 | 63개 |
| 라우트 | 전체 라우트 | 15개 |
| 라우트 | 정적(Static) 페이지 | 8개 (`/`, `/login`, `/query`, `/compare`, `/history`, `/settings`, `/_not-found`, `/error`) |
| 라우트 | 동적(Dynamic) 페이지 | 7개 (`/query/[id]`, `/api/auth/*`, `/api/queries/*`, `/api/comparisons`, `/api/users/*`) |
| 컴포넌트 | UI 기초 컴포넌트 | 14개 |
| 컴포넌트 | 쿼리 도메인 컴포넌트 | 9개 |
| 컴포넌트 | 레이아웃 컴포넌트 | 3개 (GNB, Footer, 모바일 메뉴) |
| 스토어 | Zustand 스토어 | 3개 (auth, query, toast) |
| 훅 | 커스텀 훅 | 3개 (debounce, clipboard, auto-resize) |

#### 배포 시 기술 스택

| 기술 | 버전 | 용도 |
|------|------|------|
| Next.js | 16.1.6 | App Router 기반 프레임워크 |
| React | 19.2.3 | UI 라이브러리 |
| TypeScript | 5.9.x | 정적 타입 |
| Tailwind CSS | 4.2.x | 스타일링 (다크 테마 기본) |
| Zustand | 5.0.x | 클라이언트 상태 관리 |
| lucide-react | 0.575.x | 아이콘 |
| Turbopack | 내장 | 빌드 번들러 |

#### 배포 시 확인된 제한 사항

- 모든 데이터는 Mock (클라이언트 사이드 하드코딩)
- GitHub OAuth는 Mock 구현 (실제 OAuth 미연동)
- 스트리밍은 `setTimeout` 기반 시뮬레이션
- 데이터 영속성 없음 (새로고침 시 초기화)
- 환경 변수 미설정 (Mock 기반이므로 불필요)
- 커스텀 도메인 미연결

#### 배포 시 빌드 결과

- TypeScript 오류: **0건**
- 빌드 경고: **0건**
- 정적 페이지 생성: **15개 / 15개** 성공

#### 관련 커밋 이력

| 커밋 해시 | 날짜 | 메시지 |
|-----------|------|--------|
| `40f776d` | 2026-02-23 | Initial commit: API Intelligence Engine documentation |
| `810b9f8` | 2026-02-25 | . |
| `40f9b90` | 2026-02-25 | docs: CLAUDE.md 및 배포문서 추가 |

---

## 4. 문서별 변경 추적

| 문서 | 현재 버전 | 최종 변경일 | 상태 |
|------|-----------|-------------|------|
| [서비스기획안](../00-기획/서비스기획안.md) | v1.0 | 2026-02-25 | 완료 |
| [요구사항명세서 (SRS)](../01-요구사항분석/요구사항명세서-SRS.md) | v1.0 | 2026-02-25 | 완료 |
| [요구사항추적매트릭스 (RTM)](../01-요구사항분석/요구사항추적매트릭스-RTM.md) | v1.0 | 2026-02-25 | 완료 |
| [유스케이스명세서](../01-요구사항분석/유스케이스명세서.md) | v1.0 | 2026-02-25 | 완료 |
| [용어규칙](../01-요구사항분석/용어규칙.md) | v1.0 | 2026-02-25 | 완료 |
| [API수집시스템분석서](../01-요구사항분석/API수집시스템분석서.md) | v1.0 | 2026-02-25 | 완료 |
| [크롤링정책분석서](../01-요구사항분석/크롤링정책분석서.md) | v1.0 | 2026-02-25 | 완료 |
| [시스템아키텍처설계서 (SAD)](../02-시스템설계/시스템아키텍처설계서-SAD.md) | v1.0 | 2026-02-25 | 완료 |
| [데이터베이스설계서](../02-시스템설계/데이터베이스설계서.md) | v1.0 | 2026-02-25 | 완료 |
| [API설계서](../02-시스템설계/API설계서.md) | v1.0 | 2026-02-25 | 완료 |
| [화면설계서](../02-시스템설계/화면설계서.md) | v1.0 | 2026-02-25 | 완료 |
| [모듈상세설계서](../03-상세설계/모듈상세설계서.md) | v1.0 | 2026-02-25 | 완료 |
| [비기능상세설계서](../03-상세설계/비기능상세설계서.md) | v1.0 | 2026-02-25 | 완료 |
| [배포문서](../06-배포/배포문서.md) | v2.0 | 2026-02-27 | 완료 |
| [보안검토서](../08-검토/보안검토서.md) | v1.0 | 2026-02-25 | 완료 |
| 변경이력서 (본 문서) | v1.2 | 2026-02-27 | 운영 |

---

## 5. 변경 유형 분류

| 유형 | 코드 | 설명 |
|------|------|------|
| 신규 | NEW | 새로운 문서 또는 섹션 추가 |
| 수정 | MOD | 기존 내용 변경 |
| 삭제 | DEL | 문서 또는 섹션 제거 |
| 배포 | DEPLOY | 프로덕션/스테이징 배포 실행 |
| 기준선 | BL | 버전 기준선 확정 |
| 긴급 | HOT | 긴급 변경 (장애 대응 등) |

---

## 6. 관련 문서

| 문서 | 관계 |
|------|------|
| [요구사항추적매트릭스 (RTM)](../01-요구사항분석/요구사항추적매트릭스-RTM.md) | 요구사항 상태 변경 시 동기화 |
| [시스템아키텍처설계서 (SAD)](../02-시스템설계/시스템아키텍처설계서-SAD.md) | 기술 스택·ADR 변경 시 참조 |
| [서비스기획안](../00-기획/서비스기획안.md) | MVP 스코프 변경 시 참조 |
| [배포문서](../06-배포/배포문서.md) | 배포 환경 변경 시 참조 |
